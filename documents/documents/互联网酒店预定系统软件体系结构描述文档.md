# 互联网酒店预定系统(HMS)软件体系结构描述文档

[toc]

## 更新历史

| 修改人员 | 日期 | 修改原因                         |
| -------- | ---- | -------------------------------- |
| 陆志晗   | 4.22 | 完成模块职责和用户界面层分解部分 |
| 黄桂源   | 4.22 | 完成引言、产品概述和组合视图部分 |
| 高金比尔 | 4.24 | 完成业务逻辑层分解和逻辑视图部分 |
| 李宇轩   | 4.25 | 完成数据层的分解和信息视角部分   |



## 1.引言

### 	1.1 编制目的

​	本报告详细完成对网上预订酒店系统的概要设计，达到直到详细设计和开发的目的，同时实现和测试人员及用户的沟通。

### 	1.2 词汇表

|  词汇名称  | 词汇含义                                   |
| :--------: | ------------------------------------------ |
|    HMS     | 互联网酒店预订系统                         |
|     bl     | 业务逻辑接口                               |
|   blImpl   | 业务逻辑接口的实现                         |
|    data    | 数据层接口                                 |
|  dataImpl  | 数据层接口的实现                           |
| controller | 负责处理REST API请求                       |
|     po     | 持久化对象，用于数据层和逻辑层之间数据传递 |
|     vo     | 值对象，用于逻辑层和展示层（前端）数据传递 |

### 	1.3 资料

​	1、骆斌,丁二玉,刘钦. 软件工程与计算（卷二）：软件开发的技术基础[M]. 北京:机械工业出版社. 2012

​	2、58467小组用例文档和软件需求文档



## 2.产品概述

​	参考网上预订酒店系统用例文档和网上预订酒店系统软件需求规格说明中对产品的概括描述。



## 3.逻辑视图

​		酒店管理系统中，选择了分层体系结构风格，将系统分为3层（展示层、业务逻辑、数据层）能够很好地示意整个高层抽象。展示层包含GUI页面的实现，业务逻辑层包含业务逻辑处理的实现，数据层负责数据的持久化和访问。分层体系结构的逻辑视角和逻辑设计方法如图1和图2所示。

<img src="https://58467-67.oss-cn-shanghai.aliyuncs.com/%E5%9B%BE1.png" style="zoom: 67%;" />

<img src="https://58467-67.oss-cn-shanghai.aliyuncs.com/%E5%9B%BE2%20new.png" style="zoom: 67%;" />



## 4.组合视图

### 	4.1开发包图

- 表示软件组件在开发时环境中的静态组织
  - 描述开发包以及相互间的依赖
  - 绘制开发包图
    - 开发包图类似上述示意图画法

|            开发包             | 依赖的其他开发包                                             |
| :---------------------------: | ------------------------------------------------------------ |
|            mainui             | adminui、couponui、hotelui、orderui、roomui、userui、vo      |
|         AdminService          |                                                              |
|       AdminServiceImpl        | AdminService、AdminMapper、po、vo                            |
|      CouponMatchStrategy      |                                                              |
| TargetMoneyCouponStrategyImpl | CouponMatchStrategy、po、vo                                  |
|         CouponService         |                                                              |
|       CouponServiceImpl       | CouponService、CouponMatchStrategy、CouponMapper、po、vo     |
|    TimeCouponStrategyImpl     | CouponMatchStrategy、po、vo                                  |
|         HotelService          |                                                              |
|          RoomService          |                                                              |
|       HotelServiceImpl        | HotelService、RoomService、OrderService、AccountService、HotelMapper、RoomMapper、AccountMapper、enums、po、vo |
|        RoomServiceImpl        | RoomService、RoomMapper、po                                  |
|         OrderService          |                                                              |
|       OrderServiceImpl        | HotelService、OrderService、AccountService、OrderMapper、po、vo |
|        AccountService         |                                                              |
|      AccountServiceImpl       | AccountService、AccounterMapper、po、vo                      |
|        AdminController        | AdminService、AdminServiceImpl、vo                           |
|       CouponController        | CouponService、vo                                            |
|        HotelController        | HotelService、RoomService、po、vo、util                      |
|        OrderController        | OrderService、vo                                             |
|       AccountController       | AccountService、po、vo                                       |
|          AdminMapper          | Java RMI、po                                                 |
|        AdminMapperImpl        | AdminMapper、database、po                                    |
|         CouponMapper          | Java RMI、po                                                 |
|       CouponMapperImpl        | CouponMapper、po、database                                   |
|          HotelMapper          | Java RMI、po                                                 |
|        HotelMapperImpl        | HotelMapper、po、database                                    |
|          RoomMapper           | Java RMI、po                                                 |
|        RoomMapperImpl         | RoomMapper、po、database                                     |
|          OrderMapper          | Java RMI、po                                                 |
|        OrderMapperImpl        | OrderMapper、po、database                                    |
|         AccountMapper         | Java RMI、po                                                 |
|       AccountMapperImpl       | AccountMapper、po、database                                  |
|             enums             |                                                              |
|              po               |                                                              |
|              vo               |                                                              |
|             util              |                                                              |
|           Java RMI            |                                                              |
|           database            | data                                                         |

客户端开发包图

![](https://lamada.oss-cn-beijing.aliyuncs.com/%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%BC%80%E5%8F%91%E5%8C%85%E5%9B%BE.png)

服务器端开发包图

![](https://lamada.oss-cn-beijing.aliyuncs.com/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%BC%80%E5%8F%91%E5%8C%85%E5%9B%BE.png)

### 	4.2运行时进程

- 表示软件在运行时进程间的交互，描述系统的动态结构

  - 绘制进程图

- 示意图：![](https://lamada.oss-cn-beijing.aliyuncs.com/%E8%BF%9B%E7%A8%8B%E5%9B%BE.png)


  ### 4.3物理部署

- 处理如何将软件组件映射到硬件基础设施

  - 绘制部署图
- 示意图

![](https://lamada.oss-cn-beijing.aliyuncs.com/%E8%BF%9B%E7%A8%8B%E5%9B%BE.png)

## 5.接口视角

### 	5.1模块的职责

- 模块视图

  客户端模块和服务器端模块视图分别入下图所示。

  <img src="https://58467.oss-cn-shanghai.aliyuncs.com/%E5%9B%BE/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E6%96%87%E6%A1%A3/%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%A8%A1%E5%9D%97%E8%A7%86%E5%9B%BE.png" alt="客户端模块视图" style="zoom: 40%;" />

- 各层职责

  客户端各层和服务器端各层的职责分别如下表所示。

  |       层       | 职责                                     |
  | :------------: | ---------------------------------------- |
  |    启动模块    | 负责初始化网络通信机制，启动用户界面     |
  |   用户界面层   | 展示基于窗口的互联网酒店预订系统用户界面 |
  |   业务逻辑层   | 对于用户界面的输入进行响应并进行         |
  | 客户端网络模块 | 利用Java RMI机制查找RMI服务              |

  |        层        | 职责                                     |
  | :--------------: | :--------------------------------------- |
  |     启动模块     | 负责初始化网络通信机制，启动用户界面     |
  |      数据层      | 负责数据的持久化及数据访问接口           |
  | 服务器端网络模块 | 利用Java RMI机制开启RMI服务，注册RMI服务 |

- 层之间调用接口

  每一层只是使用下方直接接触的层。层与层之间仅仅是通过接口的调用来完成的。层之间调用的接口如下表所示。

  | 接口                                                         |    服务调用方    |    服务提供方    |
  | :----------------------------------------------------------- | :--------------: | :--------------: |
  | AdminService<br />CouponMatchStrategy<br />CouponService<br />HotelService<br />RoomService<br />OrderService<br />AccountService |   客户端展示层   | 客户端业务逻辑层 |
  | AdminMapper<br />CouponMapper<br />HotelMapper<br />RoomMapper<br />OrderMapper<br />AccountMapper | 客户端业务逻辑层 |  服务器端数据层  |

  ### 5.2用户界面层分解

  根据需求，系统存在21个用户界面：注册界面、登录界面、客户主界面、酒店工作人员主界面、网站营销人员主界面、网站管理人员主界面、基本信息界面、信息更新界面、酒店列表界面、酒店细节信息界面、预定酒店界面、个人订单界面、所有订单界面、撤销订单界面、订单可用优惠券界面、所有优惠券界面、促销策略界面、增加房间界面、增加酒店界面、酒店管理界面、用户列表界面。界面跳转如下图所示。

![用户界面跳转](https://lililizi.oss-cn-beijing.aliyuncs.com/900A065D0C7799775DF0C39F43024A11.jpg)

服务器端和客户端的用户界面设计接口是一致的，只是具体的页面不一样。用户界面类如下图所示。

![用户界面类](https://58467.oss-cn-shanghai.aliyuncs.com/%E5%9B%BE/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E6%96%87%E6%A1%A3/%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2%E7%B1%BB.png)

#### 	5.2.1用户界面层模块的职责

下表所示为用户界面层模块的职责。

|   模块    |                 职责                  |
| :-------: | :-----------------------------------: |
| MainFrame | 界面Frame，负责界面的显示和界面的跳转 |

#### 	5.2.2用户界面层模块的接口规范

- 接口规范

  用户界面层模块的接口规范如下表所示。

| 接口名    |          |                         |
| --------- | :------- | ----------------------- |
|           | 语法     | init(args:String[])     |
| MainFrame | 前置条件 | 无                      |
|           | 后置条件 | 显示Frame以及LoginPanel |

- 需要的服务接口

  用户界面层需要的服务接口如下表所示。

|         服务名         | 服务                               |
| :--------------------: | ---------------------------------- |
| blservice.loginservice | 登录界面的业务逻辑接口             |
|   blservice.*service   | 每个界面都有一个相应的业务逻辑接口 |

- 设计原理

  用户界面利用Vue.js来实现

  ### 5.3业务逻辑层分解

  业务逻辑层包括多个针对界面的业务逻辑处理对象。例如，Admin对象负责酒店管理人员的业务逻辑，Coupon对象负责优惠策略的业务逻辑，Hotel对象负责酒店的业务逻辑，Room对象负责酒店房间的业务逻辑，Order对象负责订单的业务逻辑，User对象负责用户的业务逻辑。

![](https://58467-67.oss-cn-shanghai.aliyuncs.com/%E5%9B%BE%20%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91.png)

#### 	5.3.1业务逻辑层模块的职责

​	业务逻辑层模块的职责如表所示。

<center/>表 业务逻辑层模块的职责<center/>
|   模块   |                 职责                 |
| :------: | :----------------------------------: |
| adminbl  | 负责实现酒店管理人员所需要的相关服务 |
| couponbl |   负责实现优惠策略所需要的相关服务   |
| hotelbl  |     负责实现酒店所需要的相关服务     |
| orderbl  |     负责实现订单所需要的相关服务     |
|  userbl  |     负责实现用户所需要的相关服务     |

#### 	5.3.2业务逻辑层的接口规范

TODO

adminbl、coupon、hotel、orderbl、userbl模块的接口规范分别如表所示。

<center>表 AdminService模块的接口规范</center>
<table border="1">
<tr>
    <th colspan="3">提供的服务（供接口）</th>
</tr>
    <tr>
    <td rowspan="4">AdminService.addManager</td>
    <td>语法</td>
    <td>public ResponseVO addManager(UserForm userForm)</td>
</tr>
    <tr>
    <tr>
        <td>前置条件</td>
        <td>使用者身份为网站管理员并开始添加</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>添加网站用户信息</td>
    </tr>
    <tr>
    <td rowspan="4">AdminService.getAllManagers</td>
    <td>语法</td>
    <td>public List&lt;User> get AllManagers()</td>
</tr>
    <tr>
    <tr>
        <td>前置条件</td>
        <td>使用者身份为网站管理员</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回所有用户的信息</td>
    </tr>
    <tr>
    <td rowspan="4">AdminService.delAccount</td>
    <td>语法</td>
    <td>public ResponseVO delAccount(UserForm userForm)</td>
</tr>
    <tr>
    <tr>
        <td>前置条件</td>
        <td>使用者身份为网站管理员，已存在用户信息</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>删除用户信息</td>
    </tr>
    <tr>
    <td rowspan="4">AdminService.changUser</td>
    <td>语法</td>
    <td>public ResponseVO changUser(UserForm userForm)</td>
</tr>
    <tr>
    <tr>
        <td>前置条件</td>
        <td>使用者身份为网站管理员，已存在用户信息</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>修改用户信息</td>
    </tr>
    <tr>
    <td rowspan="4">AdminService.addHotelManager</td>
    <td>语法</td>
    <td>pubic ResponseVO addHotelManager(Hotel_Manager hotel_manager)</td>
</tr>
    <tr>
    <tr>
        <td>前置条件</td>
        <td>使用者身份为网站管理员并开始添加</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>添加酒店并绑定酒店管理员</td>
    </tr>
    <tr>
    <td rowspan="4">AdminService.searchHotel</td>
    <td>语法</td>
    <td>public ResponseVO searchHotel(Hotel_Manager hotel_manager)</td>
</tr>
    <tr>
    <tr>
        <td>前置条件</td>
        <td>使用者身份为网站管理员</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回酒店列表</td>
    </tr>
    <tr>
    <td rowspan="4">AdminService.changeHotelManager</td>
    <td>语法</td>
    <td>public ResponseVO changeHotelManager(HotelVO hotelVO)</td>
</tr>
    <tr>
    <tr>
        <td>前置条件</td>
        <td>使用者身份为网站管理员</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>修改酒店管理员</td>
    </tr>
<th colspan="3">
    需要的服务（需接口）
</th>
 </tr>
    <tr>
        <td colspan="1">服务名</td>
        <td colspan="2">服务</td>
    </tr>
    <tr>
        <td colspan="1">User.setEmail(String email)</td>
        <td colspan="2">设置用户邮箱</td>
    </tr>
    <tr>
        <td colspan="1">User.setPassword(String password)</td>
        <td colspan="2">设置用户密码</td>
    </tr>
    <tr>
        <td colspan="1">User.setUserType(UserType userType)</td>
        <td colspan="2">设置用户类型</td>
    </tr>
	<tr>
        <td colspan="1">User.getEmail()</td>
        <td colspan="2">返回用户email</td>
    </tr>
	<tr>
        <td colspan="1">UserForm.getPhone()</td>
        <td colspan="2">返回用户电话号码</td>
    </tr>
	<tr>
        <td colspan="1">user.setPhoneNumber(String phone)</td>
        <td colspan="2">设置用户电话号码</td>
    </tr>
    <tr>
        <td colspan="1">ResponseVO.buildFailure(String message)</td>
        <td colspan="2">返回构建错误信息</td>
    </tr>
    <tr>
        <td colspan="1">ResponseVO.buildSuccess(Object content)</td>
        <td colspan="2">返回构建成功信息</td>
    </tr>
<tr>
    <td colspan="1">adminMapper.addManager(user)</td>
    <td colspan="2">将user信息加入数据库</td>
</tr>
<tr>
    <td colspan="1">adminMapper.delAccount(email)</td>
    <td colspan="2">删除用户信息</td>
</tr>
<tr>
    <td colspan="1">UserForm.getEmail()</td>
    <td colspan="2">返回用户email</td>
</tr>
<tr>
    <td colspan="1">hotel_manager.getEmail()</td>
    <td colspan="2">返回酒店管理员email</td>
</tr>
<tr>
    <td colspan="1">hotel_manager.getHotelname()</td>
    <td colspan="2">返回酒店名</td>
</tr>
<tr>
    <td colspan="1">adminMapper.judge_exist(String email)</td>
    <td colspan="2">通过email判断数据库中是否存在该账号</td>
</tr>
<tr>
    <td colspan="1">adminMapper.judgeHotelManager(String email)</td>
    <td colspan="2">返回该用户账户类型</td>
</tr>
<tr>
    <td colspan="1"> hotel.setHotelName(String name)</td>
    <td colspan="2">设置酒店名</td>
</tr>
<tr>
    <td colspan="1"> hotel.setManagerId(int id)</td>
    <td colspan="2">设置酒店管理员id</td>
</tr>
<tr>
    <td colspan="1"> adminMapper.addHotelManager(Hotel hotel)</td>
    <td colspan="2">向数据库中添加酒店以及该酒店管理员</td>
</tr>
<tr>
    <td colspan="1"> adminMapper.judge_existHotel(String name)</td>
    <td colspan="2">根据酒店名判断数据库中是否存在与该名字相同酒店名的酒店</td>
</tr>
<tr>
    <td colspan="1"> adminMapper.judge_existManager(int id )</td>
    <td colspan="2">根据id判断该管理员是否存在与于数据库中</td>
</tr>
<tr>
    <td colspan="1"> hotelVO.getManagerId()</td>
    <td colspan="2">返回酒店管理员id</td>
</tr>
<tr>
    <td colspan="1"> hotelVO.getId()</td>
    <td colspan="2">返回酒店id</td>
</tr>
<tr>
    <td colspan="1"> hotelVO.setManagerId()</td>
    <td colspan="2">设置酒店管理员id</td>
</tr>
<tr>
    <td colspan="1"> hotelVO.setId()</td>
    <td colspan="2">设置酒店id</td>
</tr>
<tr>
    <td colspan="1">adminMapper.judgeHotelManager_1(int id)</td>
    <td colspan="2">根据id返回该账户用户类型</td>
</tr>
<tr>
    <td colspan="1"> adminMapper.update_HotelManager(Hotel hotel)</td>
    <td colspan="2">更新数据库中酒店管理员id</td>
</tr>
</table>

<center>表 coupon模块的接口规范</center>
<table border="1">
<tr>
    <th colspan="3">提供的服务（供接口）</th>
</tr>
    <tr>
    <td rowspan="3">CouponService.getMatchOrderCoupon</td>
    <td>语法</td>
    <td>public List&lt;coupon> getMatchOrderCoupon(OrderVO orderVO)</td>
</tr>
    <tr>
        <td>前置条件</td>
        <td>使用者选择某一订单</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回某一订单可用的优惠策略列表</td>
    </tr>
    <tr>
    <td rowspan="3">CouponService.getHotelAllCoupon</td>
    <td>语法</td>
    <td>public List&lt;Coupon> getHotelAllCoupon(Integer hotelId)</td>
</tr>
    <tr>
        <td>前置条件</td>
        <td>使用者选择某一酒店</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回某个酒店提供的所有优惠策略（包括失效的）</td>
    </tr>
    <tr>
    <td rowspan="3">CouponService.addHotelTargetMoneyCoupon</td>
    <td>语法</td>
    <td>public CouponVO addHotelTargetMoneyCoupon
        (HotelTargetMoneyCouponVO couponVO)</td>
</tr>
    <tr>
        <td>前置条件</td>
        <td>使用者选择某一酒店</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>添加酒店满减优惠策略</td>
    </tr>
    <tr>
    <td rowspan="3">TargetMoneyCouponStrategy.isMatch</td>
    <td>语法</td>
    <td>public boolean isMatch(OrderVO orderVO, Coupon coupon)</td>
</tr>
    <tr>
        <td>前置条件</td>
        <td>使用者选择某一订单</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回某个订单是否满足某种满减金额优惠策略</td>
    </tr>
    <tr>
    <td rowspan="3">TimeCouponStrategy.isMatch</td>
    <td>语法</td>
    <td>public boolean isMatch(OrderVO orderVO, Coupon coupon)</td>
</tr>
    <tr>
        <td>前置条件</td>
        <td>使用者选择某一订单</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回某个订单是否满足某种限时优惠策略</td>
    </tr>
    <th colspan="3">
    需要的服务（需接口）
</th>
 </tr>
    <tr>
        <td colspan="1">服务名</td>
        <td colspan="2">服务</td>
    </tr>
    <tr>
        <td colspan="1">CouponMapper.selectByHotelId(Integer hotelId)</td>
        <td colspan="2">通过宾馆id选择</td>
    </tr>
    <tr>
        <td colspan="1">Coupon.setCouponName(String couponName)</td>
        <td colspan="2">设置优惠策略名称</td>
    </tr>
    <tr>
        <td colspan="1">Coupon.setDescription(String description)</td>
        <td colspan="2">设置优惠策略描述</td>
    </tr>
    <tr>
        <td colspan="1">Coupon.setCouponType(Integer couponType)</td>
        <td colspan="2">设置优惠策略类型</td>
    </tr>
    <tr>
        <td colspan="1">Coupon.setTargetMoney(double targetMoney)</td>
        <td colspan="2">设置优惠策略价格</td>
    </tr>
    <tr>
        <td colspan="1">Coupon.setHotelId(Integer hotelId)</td>
        <td colspan="2">设置优惠策略酒店id</td>
    </tr>
    <tr>
        <td colspan="1">Coupon.setDiscountMoney(double discountMoney)</td>
        <td colspan="2">设置优惠策略优惠金额</td>
    </tr>
    <tr>
        <td colspan="1">Coupon.setStatus(Integer status)</td>
        <td colspan="2">设置优惠策略有效状态</td>
    </tr>
    <tr>
        <td colspan="1">CouponMapper.insertCoupon(Coupon coupon)</td>
        <td colspan="2">插入优惠策略</td>
    </tr>
    <tr>
        <td colspan="1">CouponVO.setId(Integer id)</td>
        <td colspan="2">设置优惠策略id</td>
    </tr>
    <tr>
        <td colspan="1">OrderVO.getPrice()</td>
        <td colspan="2">得到订单价格</td>
    </tr>
    <tr>
        <td colspan="1">Coupon.getCouponType()</td>
        <td colspan="2">得到优惠策略类型</td>
    </tr>
    <tr>
        <td colspan="1">Coupon.getTargetMoney()</td>
        <td colspan="2">得到优惠策略价格</td>
    </tr>
</table>
<center>表 hotel模块的接口规范</center>
<table border="1">
<tr>
    <th colspan="3">提供的服务（供接口）</th>
</tr>
    <tr>
    <td rowspan="4">HotelService.addHotel</td>
    <td>语法</td>
    <td>public void addHotel(HotelVO hotelVO)</td>
</tr>
    <tr>
    <tr>
        <td>前置条件</td>
        <td>使用者身份为酒店管理人员</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>添加酒店信息</td>
    </tr>
    <tr>
    <td rowspan="4">HotelService.updateRoomInfo</td>
    <td>语法</td>
    <td>public void updateRoomInfo(Integer hotelId, String roomType, Integer rooms)</td>
</tr>
    <tr>
    <tr>
        <td>前置条件</td>
        <td>使用者身份为酒店管理人员</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>更新酒店房间的信息</td>
    </tr>
    <tr>
    <td rowspan="4">HotelService.retrieveHotels</td>
    <td>语法</td>
    <td>public List&lt;HotelVO> retrieveHotels()</td>
</tr>
    <tr>
    <tr>
        <td>前置条件</td>
        <td>使用者已登录</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>列表获取酒店信息</td>
    </tr>
    <tr>
    <td rowspan="4">HotelService.searchHotels</td>
    <td>语法</td>
    <td>public List&lt;HotelVO> searchHotels(String address,String bizRegion)</td>
</tr>
    <tr>
    <tr>
        <td>前置条件</td>
        <td>使用者已登录</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>按地址和商圈搜索酒店</td>
    </tr>
    <tr>
    <td rowspan="4">HotelService.filtereHotels</td>
    <td>语法</td>
    <td>public List&lt;HotelVO> filterHotels(FilterConditionVO filterConditionVO)</td>
</tr>
    <tr>
    <tr>
        <td>前置条件</td>
        <td>使用者已登录</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>按条件过滤酒店</td>
    </tr>
    <tr>
    <td rowspan="4">HotelService.priceSortHotels</td>
    <td>语法</td>
    <td>public List&lt;HotelVO> priceSortHotels()</td>
</tr>
    <tr>
    <tr>
        <td>前置条件</td>
        <td>使用者已登录</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>按价格排序酒店</td>
    </tr>
    <tr>
    <td rowspan="4">HotelService.rateSortHotels</td>
    <td>语法</td>
    <td>public List&lt;HotelVO> rateSortHotels()</td>
</tr>
    <tr>
    <tr>
        <td>前置条件</td>
        <td>使用者已登录</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>按评分排序酒店</td>
    </tr>
    <tr>
    <td rowspan="4">HotelService.retrieveHotelDetails</td>
    <td>语法</td>
    <td>public HotelVO retrieveHotelDetails(Integer hotelId) </td>
</tr>
    <tr>
    <tr>
        <td>前置条件</td>
        <td>使用者已登录</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>获得酒店详细信息</td>
    </tr>
    <tr>
    <td rowspan="4">HotelService.getRoomCurNum</td>
    <td>语法</td>
    <td>public int getRoomCurNum(Integer hotelId, String roomType)</td>
</tr>
    <tr>
    <tr>
        <td>前置条件</td>
        <td>使用者已登录</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>获得酒店某个类型房间剩余数量</td>
    </tr>
    <tr>
    <td rowspan="4">HotelService.getHotelOrders</td>
    <td>语法</td>
    <td>public List&lt;Order> getHotelOrders(Integer hotelId) </td>
</tr>
    <tr>
    <tr>
        <td>前置条件</td>
        <td>使用者是酒店管理人员</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>获得酒店的所有订单</td>
    </tr>
        <tr>
    <td rowspan="4">HotelService.retrieveMgrHotels</td>
    <td>语法</td>
    <td>public List&lt;HotelVO> retrieveMgrHotels(@RequestParam int id) </td>
</tr>
    <tr>
    <tr>
        <td>前置条件</td>
        <td>使用者是酒店管理人员</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>获得该管理员管理的所有酒店</td>
    </tr>
    <tr>
    <td rowspan="4">HotelService.updateHotelInfo</td>
    <td>语法</td>
    <td>public ResponseVO updateHotelInfo(Integer hotelId, String name,String address, String bizRegion, String description, String hotelStar,String phoneNum) </td>
</tr>
    <tr>
    <tr>
        <td>前置条件</td>
        <td>使用者是酒店管理人员</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>更新该酒店信息</td>
    </tr>
    <tr>
    <td rowspan="4">RoomService.retrieveHotelRoomInfo</td>
    <td>语法</td>
    <td>public List&lt;HotelRoom> retrieveHotelRoomInfo(Integer hotelId) </td>
</tr>
    <tr>
    <tr>
        <td>前置条件</td>
        <td>使用者是酒店管理人员</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>获得酒店的全部房间信息</td>
    </tr>
    <tr>
    <td rowspan="4">RoomService.insertRoomInfo</td>
    <td>语法</td>
    <td>public void insertRoomInfo(HotelRoom hotelRoom) </td>
</tr>
    <tr>
    <tr>
        <td>前置条件</td>
        <td>使用者是酒店管理人员</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>更新酒店客房信息</td>
    </tr>
        <tr>
    <td rowspan="4">RoomService.updateRoomInfo</td>
    <td>语法</td>
    <td>public void updateRoomInfo(Integer hotelId, String roomType, Integer rooms)</td>
</tr>
    <tr>
    <tr>
        <td>前置条件</td>
        <td>使用者是酒店管理人员</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>更新酒店客房房间数量</td>
    </tr>
        <tr>
    <td rowspan="4">RoomService.getRoomCurNum</td>
    <td>语法</td>
    <td>public int getRoomCurNum(Integer hotelId, String roomType)</td>
</tr>
    <tr>
    <tr>
        <td>前置条件</td>
        <td>使用者已经登录</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>获取酒店指定房间的剩余数量</td>
    </tr>
    <tr>
    <td rowspan="4">RoomService.getHotelAllRoom</td>
    <td>语法</td>
    <td>public List&lt;HotelRoom> getHotelAllRoom(Integer hotelId)</td>
</tr>
    <tr>
    <tr>
        <td>前置条件</td>
        <td>使用者已经登录</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>获取指定酒店的所有房间</td>
    </tr>
    <tr>
    <td rowspan="4">RoomService.updateRoomPriceInfo</td>
    <td>语法</td>
    <td>public ResponseVO updateRoomPriceInfo(int id, double price)</td>
</tr>
    <tr>
    <tr>
        <td>前置条件</td>
        <td>使用者是酒店管理人员</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>更新指定房间的价格信息</td>
    </tr>
    <tr>
    <td rowspan="4">RoomService.updateRoomNumInfo</td>
    <td>语法</td>
    <td>public ResponseVO updateRoomNumInfo(int id, Integer num)</td>
</tr>
    <tr>
    <tr>
        <td>前置条件</td>
        <td>使用者是酒店管理人员</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>更新指定房间的数量信息</td>
    </tr>
    <tr>
    <td rowspan="4">RoomService.deleteRoom</td>
    <td>语法</td>
    <td>public ResponseVO deleteRoom(int id)</td>
</tr>
    <tr>
    <tr>
        <td>前置条件</td>
        <td>使用者是酒店管理人员</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>删除房间</td>
    </tr>
<th colspan="3">
    需要的服务（需接口）
</th>
 </tr>
    <tr>
        <td colspan="1">服务名</td>
        <td colspan="2">服务</td>
    </tr>
    <tr>
        <td colspan="1">User.getUserType()</td>
        <td colspan="2">获得用户类型</td>
    </tr>
    <tr>
        <td colspan="1">HotelVO.getManagerId()</td>
        <td colspan="2">获得酒店管理人员的id</td>
    </tr>
    <tr>
        <td colspan="1">Hotel.setDescription(String description)</td>
        <td colspan="2">设置酒店描述</td>
    </tr>
    <tr>
        <td colspan="1">Hotel.setAddress(String address)</td>
        <td colspan="2">设置酒店地址</td>
    </tr>
    <tr>
        <td colspan="1">Hotel.setHotelName(String hotelName)</td>
        <td colspan="2">设置酒店名称</td>
    </tr>
    <tr>
        <td colspan="1">Hotel.setPhoneNum(String phoneNum)</td>
        <td colspan="2">设置酒店电话</td>
    </tr>    
	<tr>
        <td colspan="1">Hotel.setManagerId(Integer managerId)</td>
        <td colspan="2">设置酒店管理人员id</td>
    </tr>    
	<tr>
        <td colspan="1">Hotel.setRate(Double rate)</td>
        <td colspan="2">设置酒店评分</td>
    </tr>
	<tr>
        <td colspan="1">Hotel.setBizRegion(BizRegion bizRegion)</td>
        <td colspan="2">设置酒店商圈</td>
    </tr>
	<tr>
        <td colspan="1">Hotel.setHotelStar(HotelStar hotelStar)</td>
        <td colspan="2">设置酒店星级</td>
    </tr>
    <tr>
        <td colspan="1">HotelMapper.insertHotel(Hotel hotel)</td>
        <td colspan="2">添加酒店</td>
    </tr>
    <tr>
        <td colspan="1">HotelMapper.selectAllHotel()</td>
        <td colspan="2">选择所有酒店</td>
    </tr>
    <tr>
        <td colspan="1">HotelVO.selectById(@Param("id") Integer id)</td>
        <td colspan="2">选择相应id的酒店</td>
    </tr>
    <tr>
        <td colspan="1">RoomVO.setId(Integer id)</td>
        <td colspan="2">设置房间id</td>
    </tr>
    <tr>
        <td colspan="1">RoomVO.setPrice(Double price)</td>
        <td colspan="2">设置房间价格</td>
    </tr>
    <tr>
        <td colspan="1">RoomVO.setRoomType(String roomType)</td>
        <td colspan="2">设置房间类型</td>
    </tr>
    <tr>
        <td colspan="1">RoomVO.setCurNum(Integer curNum)</td>
        <td colspan="2">设置房间剩余数量</td>
    </tr>
    <tr>
        <td colspan="1">RoomVO.setTotal(Integer total)</td>
        <td colspan="2">设置房间总量</td>
    </tr>
    <tr>
        <td colspan="1">HotelVO.setRooms(List&lt;RoomVO> rooms)</td>
        <td colspan="2">设置酒店房间数量</td>
    </tr>
    <tr>
        <td colspan="1">HotelRoom.getId()</td>
        <td colspan="2">获得酒店房间id</td>
    </tr>
    <tr>
        <td colspan="1">HotelRoom.getId()</td>
        <td colspan="2">获得酒店房间id</td>
    </tr>
    <tr>
        <td colspan="1">HotelRoom.getPrice()</td>
        <td colspan="2">获得酒店房间价格</td>
    </tr>
    <tr>
        <td colspan="1">HotelRoom.getRoomType()</td>
        <td colspan="2">获得酒店房间类型</td>
    </tr>
    <tr>
        <td colspan="1">HotelRoom.getCurNum()</td>
        <td colspan="2">获得酒店房间剩余数量</td>
    </tr>
    <tr>
        <td colspan="1">HotelRoom.getTotal()</td>
        <td colspan="2">获得酒店房间总数</td>
    </tr>
    <tr>
        <td colspan="1">RoomMapper.selectRoomsByHotelId(@Param("hotelId") Integer hotelId)</td>
        <td colspan="2">根据酒店id获取房间</td>
    </tr>
    <tr>
        <td colspan="1">RoomMapper.insertRoom(HotelRoom hotelRoom)</td>
        <td colspan="2">加入酒店房间</td>
    </tr>
    <tr>
        <td colspan="1">RoomMapper.updateRoomInfo(@Param("hotelId") Integer hotelId,@Param("roomType") String roomType,@Param("curNum") Integer curNum)</td>
        <td colspan="2">更新酒店房间信息</td>
    </tr>
    <tr>
        <td colspan="1">RoomMapper.getRoomCurNum(Integer hotelId, String roomType) </td>
        <td colspan="2">获得酒店剩余房间数量</td>
    </tr>
    <tr>
        <td colspan="1">HotelMapper.selectMgrHotel(int id) </td>
        <td colspan="2">获得管理员管理的酒店</td>
    </tr>
    <tr>
        <td colspan="1">HotelMapper.updateHotel(@Param("id") Integer hotelId, @Param("name")String name,@Param("address") String address,@Param("bizRegion") String bizRegion,
                    @Param("hotelDescription") String description,@Param("hotelStar")String hotelStar,@Param("phoneNum")String phoneNum) </td>
        <td colspan="2">更新酒店信息</td>
    </tr>
    <tr>
        <td colspan="1">RoomMapper.updatePrice(@Param("id") int id,@Param("price") double price) </td>
        <td colspan="2">更新房间的价格</td>
    </tr>
    <tr>
        <td colspan="1">RoomMapper.updateNum(@Param("id") int id,@Param("total") Integer num) </td>
        <td colspan="2">更新房间的数量</td>
    </tr>
    <tr>
        <td colspan="1">RoomMapper.getRoomById(@Param("id")int id) </td>
        <td colspan="2">根据房间id查找房间</td>
    </tr>
    <tr>
        <td colspan="1">RoomMapper.deleteRoom(@Param("id") int id) </td>
        <td colspan="2">删除指定id的房间</td>
    </tr>
</table>


<center>表 order模块的接口规范</center>
<table border="1">
<tr>
    <th colspan="3">提供的服务（供接口）</th>
</tr>
    <tr>
    <td rowspan="3">OrderService.addOrder</td>
    <td>语法</td>
    <td>public ResponseVO addOrder(OrderVO orderVO)</td>
</tr>
    <tr>
        <td>前置条件</td>
        <td>客户已注册登录且达到信用累积制度要求</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>生成预定订单，储存本次预定记录；更新酒店空闲房间信息；更新客户信用等级</td>
    </tr>
    <tr>
    <td rowspan="3">OrderService.getAllOrders</td>
    <td>语法</td>
    <td>public List&lt;Order> getAllOrders()</td>
</tr>
    <tr>
        <td>前置条件</td>
        <td>使用者已经登录</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回所有订单详细信息</td>
    </tr>
    <tr>
    <td rowspan="3">OrderService.getUserOrders</td>
    <td>语法</td>
    <td>public List&lt;Order> getUserOrders(int userid)</td>
</tr>
    <tr>
        <td>前置条件</td>
        <td>使用者是酒店管理人员且已经选择用户</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回此用户的订单信息</td>
    </tr>
    <tr>
    <td rowspan="3">OrderService.annulOrder</td>
    <td>语法</td>
    <td>public ResponseVO annulOrder(int orderid)</td>
</tr>
    <tr>
        <td>前置条件</td>
        <td>使用者选择某一订单</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>取消此订单</td>
    </tr>
        <tr>
    <td rowspan="3">OrderService.getHotelAllOrders</td>
    <td>语法</td>
    <td>public List&lt;Order> getHotelAllOrders(Integer hotelId)</td>
</tr>
    <tr>
        <td>前置条件</td>
        <td>使用者为酒店管理人员</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>展示指定酒店所有订单</td>
    </tr>
    <tr>
    <td rowspan="3">OrderService.getHotelAbOrders</td>
    <td>语法</td>
    <td>public List&lt;Order> getHotelAbOrders(Integer hotelId)</td>
</tr>
    <tr>
        <td>前置条件</td>
        <td>使用者为酒店管理人员</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>展示指定酒店所有异常订单</td>
    </tr>
        <tr>
    <td rowspan="3">OrderService.checkIn</td>
    <td>语法</td>
    <td>public ResponseVO checkIn(int id)</td>
</tr>
    <tr>
        <td>前置条件</td>
        <td>使用者为酒店管理人员</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>使此订单改为入住状态</td>
    </tr>
            <tr>
                <td rowspan="3">OrderService.checkOut</td>
    <td>语法</td>
    <td>public ResponseVO checkOut(int id)</td>
</tr>
    <tr>
        <td>前置条件</td>
        <td>使用者为酒店管理人员</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>使此订单改为退房状态</td>
    </tr>
    <tr>
        <td rowspan="3">OrderService.updateCheckout</td>
    <td>语法</td>
    <td>public ResponseVO updateCheckout(int id,String checkOutDate)</td>
</tr>
    <tr>
        <td>前置条件</td>
        <td>使用者为酒店管理人员</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>设置此订单的预计退房时间</td>
    </tr>
       <th colspan="3">
    需要的服务（需接口）
</th>
 </tr>
    <tr>
        <td colspan="1">服务名</td>
        <td colspan="2">服务</td>
    </tr>
    <tr>
        <td colspan="1">OrderVO.getRoomNum()</td>
        <td colspan="2">返回订单房间数量</td>
    </tr>
    <tr>
        <td colspan="1">OrderVO.getHotelId()</td>
        <td colspan="2">返回订单酒店id</td>
    </tr>
    <tr>
        <td colspan="1">OrderVO.getRoomType()</td>
        <td colspan="2">返回订单房间类型</td>
    </tr>
    <tr>
        <td colspan="1">HotelService.getRoomCurNum(Integer hotelId,String roomType)</td>
        <td colspan="2">返回指定酒店指定房间类型的数量</td>
    </tr>
    <tr>
        <td colspan="1">ResponseVO.buildFailure(String message)</td>
        <td colspan="2">返回构建失败</td>
    </tr>
    <tr>
        <td colspan="1">OrderVO.setCreateDate(String createDate)</td>
        <td colspan="2">设置订单创建时间</td>
    </tr>
    <tr>
        <td colspan="1">OrderVO.setOrderState(String orderState)</td>
        <td colspan="2">设置订单状态</td>
    </tr>
    <tr>
        <td colspan="1">AccountService.getUserInfo(int id)</td>
        <td colspan="2">获取用户信息</td>
    </tr>
    <tr>
        <td colspan="1">OrderVO.getUserId()</td>
        <td colspan="2">获取订单用户id</td>
    </tr>
    <tr>
        <td colspan="1">User.getUserName()</td>
        <td colspan="2">获取用户姓名</td>
    </tr>
    <tr>
        <td colspan="1">OrderVO.setClientName(String clientName)</td>
        <td colspan="2">设置客户姓名</td>
    </tr>
    <tr>
        <td colspan="1">User.getPhoneNumber()</td>
        <td colspan="2">得到用户电话</td>
    </tr>
    <tr>
        <td colspan="1">OrderVO.setPhoneNumber(String phoneNumber)</td>
        <td colspan="2">设置客户电话</td>
    </tr>
    <tr>
        <td colspan="1">OrderMapper.addOrder(Order order)</td>
        <td colspan="2">添加订单</td>
    </tr>
    <tr>
        <td colspan="1">HotelService.updateRoomInfo(Integer hotelId, String roomType,Integer rooms)</td>
        <td colspan="2">更新房间信息</td>
    </tr>
    <tr>
        <td colspan="1">OrderMapper.getAllOrders()</td>
        <td colspan="2">得到所有订单</td>
    </tr>
    <tr>
        <td colspan="1">OrderMapper.getUserOrders(@Param("userid") int userid)</td>
        <td colspan="2">得到指定用户的订单</td>
    </tr>
<tr>
        <td colspan="1">OrderMapper.getLateUserId(@Param("today")String today)</td>
        <td colspan="2">得到异常的订单</td>
    </tr>
<tr>
        <td colspan="1">OrderMapper.getLateCredit(@Param("today")String today)</td>
    <td colspan="2">得到异常的订单的信用值</td>
    </tr>
<tr>
        <td colspan="1">Account.minusCredit(@Param("id") int userId,@Param("credit") double credit)</td>
    <td colspan="2">扣除信用值</td>
    </tr>
<tr>
        <td colspan="1">Orderapper.updateToday(@Param("today")String today)</td>
    <td colspan="2">更新今日订单状况</td>
    </tr>
</table>
<center>表 user模块的接口规范</center>
<table border="1">
<tr>
    <th colspan="3">提供的服务（供接口）</th>
</tr>
    <tr>
    <td rowspan="3">UserService.registerAccount</td>
    <td>语法</td>
    <td>public ResponseVO registerAccount(UserVO userVO)</td>
</tr>
    <tr>
        <td>前置条件</td>
        <td>无</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>更新用户信息</td>
    </tr>
    <tr>
    <td rowspan="3">UserService.login</td>
    <td>语法</td>
    <td>public User login(UserForm userForm) </td>
</tr>
    <tr>
        <td>前置条件</td>
        <td>使用者已经注册</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>将用户信息保存在session中</td>
    </tr>
    <tr>
    <td rowspan="3">UserService.getUserInfo</td>
    <td>语法</td>
    <td>public User getUserInfo(int id)</td>
</tr>
    <tr>
        <td>前置条件</td>
        <td>使用者已登录</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>返回此用户的个人信息</td>
    </tr>
    <tr>
    <td rowspan="3">UserService.updateUserInfo</td>
    <td>语法</td>
    <td>public ResponseVO updateUserInfo(int id, String password, String username, String phonenumber)</td>
</tr>
    <tr>
        <td>前置条件</td>
        <td>使用者已登录</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>系统更新用户个人信息</td>
    </tr>
    <tr>
    <td rowspan="3">UserService.minusCredit</td>
    <td>语法</td>
    <td>public ResponseVO minusCredit(int id, double chargeMoney)</td>
</tr>
    <tr>
        <td>前置条件</td>
        <td>使用者已登录</td>
    </tr>
    <tr>
        <td>后置条件</td>
        <td>系统更新用户信用值</td>
    </tr>
       <th colspan="3">
    需要的服务（需接口）
</th>
 </tr>
    <tr>
        <td colspan="1">服务名</td>
        <td colspan="2">服务</td>
    </tr>
    <tr>
        <td colspan="1">AccountMapper.createNewAccount(User user)</td>
        <td colspan="2">创建新的账号</td>
    </tr>
    <tr>
        <td colspan="1">AccountMapper.getAccountByName(@Param("email") String email)</td>
        <td colspan="2">根据用户名查找账号</td>
    </tr>
    <tr>
        <td colspan="1">UserForm.getEmail()</td>
        <td colspan="2">得到用户邮箱</td>
    </tr>
    <tr>
        <td colspan="1">User.getPassword()</td>
        <td colspan="2">得到用户密码</td>
    </tr>
    <tr>
        <td colspan="1">UserForm.getPassword()</td>
        <td colspan="2">得到用户密码</td>
    </tr>
    <tr>
        <td colspan="1">AccountMapper.getAccountById(@Param("id") int id)</td>
        <td colspan="2">根据id查找账号</td>
    </tr>
    <tr>
        <td colspan="1">AccountMapper.updateAccount(@Param("id") int id, @Param("password") String password,@Param("userName") String username, @Param("phoneNumber") String phonenumber)</td>
        <td colspan="2">更新账户信息</td>
    </tr>
</table>


### 	5.4数据层分解

​		数据层主要给业务逻辑层提供数据访问服务，包括对于持久化数据对象的增、删、改、查。Hotel,Room,Manager,Account的业务逻辑所需要的的服务由data提供的接口实现。

![<https://lililizi.oss-cn-beijing.aliyuncs.com/888.png>](https://lililizi.oss-cn-beijing.aliyuncs.com/888.png)

​																	数据层模块的描述

#### 	5.4.1数据层模块的职责

| 模块              | 职责                                                         |
| ----------------- | ------------------------------------------------------------ |
| AdminMapper       | 持久化数据接口，提供增、查服务                               |
| RoomMapper        | 持久化数据接口，提供更新、增、查服务                         |
| OrderMapper       | 持久化数据接口，提供增、查服务                               |
| AccountMapper     | 持久化数据接口，提供增、查、更新服务                         |
| AdminMapperImpl   | 基于MySql数据库的持久化数据库的接口，提供集体载入、集体保存、增、查服务 |
| RoomMapperImpl    | 基于MySql数据库的持久化数据库的接口，提供集体载入、集体保存、更新、增、查服务 |
| OrderMapperImpl   | 基于MySql数据库的持久化数据库的接口，提供集体载入、集体保存、增、查服务 |
| AccountMapperImpl | 基于MySql数据库的持久化数据库的接口，提供集体载入、集体保存、增、查、更新服务 |
| CouponMapper      | 持久化数据接口，提供增、查服务                               |
| CouponMapperImpl  | 基于MySql数据库的持久化数据库的接口，提供集体载入、集体保存、增、查服务 |

#### 	5.4.2数据层模块的接口规范

##### 		AdminMapper模块的接口规范

<table>
	<thead>
        <tr>
            提供的服务（供接口）
        </tr>
    </thead>
	<tr >
	    <td rowspan="3">AdminMapper.addManager</td>
	    <td>语法</td>
	    <td>int addManager(User user)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>user非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>在数据库中增加一个User记录</td>
	</tr>
	<tr >
	    <td rowspan="3">AdminMapper.getAllManagers</td>
	    <td>语法</td>
	    <td>List<<User>User>getAllManagers()</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>无</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>返回一个由所有User组成的列表</td>
	</tr>
    <tr >
	    <td rowspan="3">AdminMapper.delAccount</td>
	    <td>语法</td>
	    <td>void delAccount(String email)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>email非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>在数据库中删除一条user记录</td>
	</tr>
    <tr >
	    <td rowspan="3">AdminMapper.judge_exist</td>
	    <td>语法</td>
	    <td>int judge_exist(String email)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>email非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>返回0或1,0表示包含该email的数据在数据库中不存在，1表示存在</td>
	</tr>
    <tr >
	    <td rowspan="3">AdminMapper.update_user_info</td>
	    <td>语法</td>
	    <td>void update_user_info(User user)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>user非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>更新数据库中user信息</td>
	</tr>
    <tr >
	    <td rowspan="3">AdminMapper.addHotelManager</td>
	    <td>语法</td>
	    <td>void addHotelManager(Hotel hotel)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>hotel非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>向数据库中添加一条hotel信息</td>
	</tr>
    <tr >
	    <td rowspan="3">AdminMapper.judgeHotelManager</td>
	    <td>语法</td>
	    <td>String judgeHotelManager(String email)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>email非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>返回该用户类型</td>
	</tr>
    <tr >
	    <td rowspan="3">AdminMapper.findManagerId</td>
	    <td>语法</td>
	    <td>int findManagerId(String email)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>email非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>返回该用户id</td>
	</tr>
    <tr >
	    <td rowspan="3">AdminMapper.judge_existHotel</td>
	    <td>语法</td>
	    <td>int judge_existHotel(String hotelName)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>hotelName非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>返回0或1,0表示包含该hotelName的数据在数据库中不存在，1表示存在</td>
	</tr>
    <tr >
	    <td rowspan="3">AdminMapper.getAllHotel</td>
	    <td>语法</td>
	    <td>List<Hotel_ManagerPO> getAllHotel(String hotelName)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>hotelName非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>返回酒店列表</td>
	</tr>
    <tr >
	    <td rowspan="3">AdminMapper.judge_existManager</td>
	    <td>语法</td>
	    <td>int judge_existManager(int id)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>id非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>返回0或1,0表示包含该id的数据在数据库中不存在，1表示存在</td>
	</tr>
    <tr >
	    <td rowspan="3">AdminMapper.judgeHotelManager_1</td>
	    <td>语法</td>
	    <td>String judgeHotelManager_1(int id)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>id非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>返回用户类型</td>
	</tr>
    <tr >
	    <td rowspan="3">AdminMapper.update_HotelManager</td>
	    <td>语法</td>
	    <td>void update_HotelManager(Hotel hotel)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>hotel非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>更新数据库中hotel信息</td>
	</tr>
</table>


##### 		RoomMapper模块的接口模范

<table>
	<thead>
        <tr>
            提供的服务（供接口）
        </tr>
    </thead>
	<tr >
	    <td rowspan="3">RoomMapper.updateRoomInfo</td>
	    <td>语法</td>
	    <td>int updateRoomInfo(@Param("hotelId") Integer hotelId,@Param("roomType") String roomType,@Param("curNum") Integer curNum)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>hotelId,roomType,curNum非空且在数据库中存在与参数相同的hotelId,roomType,curNum</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>在数据库中更新库房信息</td>
	</tr>
	<tr >
	    <td rowspan="3">RoomMapper.insertRoom</td>
	    <td>语法</td>
	    <td>int insertRoom(HotelRoom hotelRoom)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>hotelRoom非空且相同的hotelRoom在数据库中不存在</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>在数据库中增加一个hotelRoom记录</td>
	</tr>
    <tr >
	    <td rowspan="3">RoomMapper.selectRoomsByHotelId</td>
	    <td>语法</td>
	    <td>List<<HotelRoom>HotelRoom> selectRoomsByHotelId(@Param("hotelId") Integer hotelId)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>hotelId非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>返回一个HotelRoom列表</td>
	</tr>
    <tr >
	    <td rowspan="3">RoomMapper.getRoomCurNum</td>
	    <td>语法</td>
	    <td>int getRoomCurNum(@Param("hotelId") Integer hotelId,@Param("roomType") String roomType)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>hotelId,roomType非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>返回房间数量</td>
	</tr>
        <tr >
	    <td rowspan="3">RoomMapper.updatePrice</td>
	    <td>语法</td>
	    <td>int updatePrice(@Param("id") int id,@Param("price") double price)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>id,price非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>更新房间价格</td>
	</tr>
      <tr >
	    <td rowspan="3">RoomMapper.updateNum</td>
	    <td>语法</td>
	    <td>int updateNum(@Param("id") int id,@Param("total") Integer num)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>id,num非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>更新房间数量</td>
	</tr>
          <tr >
	    <td rowspan="3">RoomMapper.deleteRoom</td>
	    <td>语法</td>
	    <td>int deleteRoom(@Param("id") int id)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>id非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>删除房间</td>
	</tr>
              <tr >
	    <td rowspan="3">RoomMapper.getRoomById</td>
	    <td>语法</td>
	    <td>HotelRoom getRoomById(@Param("id")int id)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>id非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>根据id获取房间</td>
	</tr>
</table>

##### 		OrderMapper模块的接口规范

<table>
	<thead>
        <tr>
            提供的服务（供接口）
        </tr>
    </thead>
	<tr >
	    <td rowspan="3">OrderMapper.addOrder</td>
	    <td>语法</td>
	    <td>int addOrder(Order order)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>order非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>在数据库中增加一个Order记录</td>
	</tr>
	<tr >
	    <td rowspan="3">OrderMapper.getAllOrders</td>
	    <td>语法</td>
	    <td>List<<Order>Order> getAllOrders()</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>无</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>返回一个由所有Order组成的列表</td>
	</tr>
    <tr >
	    <td rowspan="3">OrderMapper.selectById</td>
	    <td>语法</td>
	    <td>HotelVO selectById(@Param("id") Integer id)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>id非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>返回一个HotelVO</td>
	</tr>
    <tr >
	    <td rowspan="3">OrderMapper.getAllOrders</td>
	    <td>语法</td>
	    <td>List<<Order>Order> getAllOrders()</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>无</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>返回一个由所有Order组成的列表</td>
	</tr>
    <tr >
	    <td rowspan="3">OrderMapper.getUserOrders</td>
	    <td>语法</td>
	    <td>List<<Order>Order> getUserOrders(@Param("userid") int userid)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>userid非空且数据库中存在和userid相同的id</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>返回一个Order列表</td>
	</tr>
    <tr >
	    <td rowspan="3">OrderMapper.annulOrder</td>
	    <td>语法</td>
	    <td>int annulOrder(@Param("orderid") int orderid)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>orderid非空且数据库中存在和orderid相同的OrderId</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>撤销一个订单</td>
	</tr>
    <tr >
	    <td rowspan="3">OrderMapper.getOrderById</td>
	    <td>语法</td>
	    <td>Order getOrderById(@Param("orderid") int orderid)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>orderid非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>返回一个Order</td>
	</tr>
        <tr >
	    <td rowspan="3">OrderMapper.getHotelOrders</td>
	    <td>语法</td>
	    <td>List&lt;Order> getHotelOrders(@Param("hotelId") Integer hotelId)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>hotelId非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>返回酒店所有订单</td>
	</tr>
            <tr >
	    <td rowspan="3">OrderMapper.getHotelAbOrders</td>
	    <td>语法</td>
	    <td>List&lt;Order> getHotelAbOrders(@Param("hotelId") Integer hotelId)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>hotelId非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>返回酒店所有异常订单</td>
	</tr>
                <tr >
	    <td rowspan="3">OrderMapper.checkIn</td>
	    <td>语法</td>
	    <td>int checkIn(@Param("id") int id)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>id非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>将订单设置为已入住</td>
	</tr>
                    <tr >
	    <td rowspan="3">OrderMapper.checkOut</td>
	    <td>语法</td>
	    <td>int checkOut(@Param("id") int id)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>id非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>将订单设置为已退房</td>
	</tr>
                        <tr >
	    <td rowspan="3">OrderMapper.updateOutTime</td>
	    <td>语法</td>
	    <td>int updateOutTime(@Param("id") int id,@Param("checkOutDate") String outdate)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>id，outdate非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>更新订单预计退房时间</td>
	</tr>
                            <tr >
	    <td rowspan="3">OrderMapper.updateToday</td>
	    <td>语法</td>
	    <td>int updateToday(@Param("today")String today)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>日期非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>更新今日订单状态</td>
	</tr>
                                <tr >
	    <td rowspan="3">OrderMapper.getLateUserId</td>
	    <td>语法</td>
	    <td>List&lt;Integer> getLateUserId(@Param("today")String today)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>日期非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>得到今日异常订单用户id</td>
	</tr>
                                    <tr >
	    <td rowspan="3">OrderMapper.getLateCredit</td>
	    <td>语法</td>
	    <td>List&lt;Double> getLateCredit(@Param("today")String today)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>日期非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>得到今日异常订单用户信用值</td>
	</tr>
                                        <tr >
	    <td rowspan="3">OrderMapper.updateCheckout</td>
	    <td>语法</td>
	    <td>int updateCheckout(@Param("id")int id,@Param("checkOutDate")String checkOutDate,@Param("checkInDate")String checkInDate)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>id,日期非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>更新预计退房日期</td>
	</tr>
</table>

##### AccountMapper模块的接口规范

<table>
	<thead>
        <tr>
            提供的服务（供接口）
        </tr>
    </thead>
	<tr >
	    <td rowspan="3">AccountMapper.createNewAccount</td>
	    <td>语法</td>
	    <td>int createNewAccount(User user)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>user非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>在数据库中新建一个Account信息</td>
	</tr>
	<tr >
	    <td rowspan="3">AccountMapper.getAccountByName</td>
	    <td>语法</td>
	    <td>User getAccountByName(@Param("email") String email)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>email非空且数据库中存在相同的email</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>返回账号信息</td>
	</tr>
    <tr >
	    <td rowspan="3">AccountMapper.getAccountById</td>
	    <td>语法</td>
	    <td>User getAccountById(@Param("id") int id)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>id非空且数据库中存在相同的id</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>返回账号信息</td>
	</tr>
    <tr >
	    <td rowspan="3">AccountMapper.updateAccount</td>
	    <td>语法</td>
	    <td>int updateAccount(@Param("id") int id, @Param("password") String password,@Param("userName") String username, @Param("phoneNumber") String phonenumber)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>id,password,username,phonenumber非空且数据库中存在相同的id</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>更新用户信息</td>
	</tr>
</table>

##### 		CouponMapper模块的接口规范

<table>
	<thead>
        <tr>
            提供的服务（供接口）
        </tr>
    </thead>
	<tr >
	    <td rowspan="3">CouponMapper.insertCoupon</td>
	    <td>语法</td>
	    <td>int insertCoupon(Coupon coupon)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>coupon非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>在数据库中新建一个Coupon信息</td>
	</tr>
    <tr >
	    <td rowspan="3">CouponMapper.selectByHotelId</td>
	    <td>语法</td>
	    <td>List<<Coupon>Coupon> selectByHotelId(Integer hotelId)</td>
	</tr>
	<tr>
	    <td>前置条件</td>
	    <td>hotelid非空</td>
	</tr>
	<tr>
	    <td>后置条件</td>
	    <td>返回一个hotel列表</td>
	</tr>
</table>

## 6.信息视角

### 	6.1数据持久化对象

​	系统的PO类就是对应的相关的实体类。

- Coupon类包含优惠券的id、优惠券的描述、优惠券的类型、优惠券名称、优惠券使用门槛、折扣、可用时间、失效时间、优惠券状态。

- Hotel类包含酒店id、酒店名称、酒店地址、商圈、酒店星级、酒店描述、电话号码、管理人员id，酒店评价排名。

- HotelRoom类包含房间的id、房间种类、酒店id、价格、当前剩余可预订房间数、房间总数。

- Order类包含订单的id、客户id、酒店id、酒店名、checkin日期、checkout日期、房间种类、房间数、人数、是否有小号、订单生成日期、价格、手机号、订单状态、客户名。

- User类包含使用者的id、email、密码、用户名、手机号、信用等级、用户类型。

  Coupon定义

  ```
  public class Coupon {
      /**
       * 优惠券id
       */
      private int id;
      /**
       * 优惠券描述
       */
      private String description;
  
      /**
       * 如果为-1 代表是网站推出的优惠
       */
      private Integer hotelId;
  
      /**
       * 优惠券类型 1生日特惠 2多间特惠 3满减优惠 4限时优惠
       */
      private Integer couponType;
      /**
       * 优惠券名称
       */
      private String couponName;
      /**
       * 优惠券使用门槛
       */
      private double targetMoney;
  
      /**
       * 折扣
       */
      private double discount;
      /**
       * 优惠券优惠金额
       */
      private double discountMoney;
      /**
       * 可用时间
       */
      private LocalDateTime startTime;
      /**
       * 失效时间
       */
      private LocalDateTime endTime;
  
      /**
       * 优惠券状态 是否已经失效 1可用 0失效
       */
      private Integer status;
  
      public LocalDateTime getStartTime() {
          return startTime;
      }
  
      public void setStartTime(LocalDateTime startTime) {
          this.startTime = startTime;
      }
  
      public LocalDateTime getEndTime() {
          return endTime;
      }
  
      public void setEndTime(LocalDateTime endTime) {
          this.endTime = endTime;
      }
  
      public int getId() {
          return id;
      }
  
      public void setId(int id) {
          this.id = id;
      }
  
      public String getDescription() {
          return description;
      }
  
      public void setDescription(String description) {
          this.description = description;
      }
  
      public String getCouponName() {
          return couponName;
      }
  
      public void setCouponName(String couponName) {
          this.couponName = couponName;
      }
  
      public double getTargetMoney() {
          return targetMoney;
      }
  
      public void setTargetMoney(double targetMoney) {
          this.targetMoney = targetMoney;
      }
  
      public double getDiscountMoney() {
          return discountMoney;
      }
  
      public void setDiscountMoney(double discountMoney) {
          this.discountMoney = discountMoney;
      }
  
      public Integer getHotelId() {
          return hotelId;
      }
  
      public void setHotelId(Integer hotelId) {
          this.hotelId = hotelId;
      }
  
      public Integer getCouponType() {
          return couponType;
      }
  
      public void setCouponType(Integer couponType) {
          this.couponType = couponType;
      }
  
      public Integer getStatus() {
          return status;
      }
  
      public void setStatus(Integer status) {
          this.status = status;
      }
  
      public double getDiscount() {
          return discount;
      }
  
      public void setDiscount(double discount) {
          this.discount = discount;
      }
  
      public Coupon() {
      }
  }
  ```

  Hotel定义

  ```
  public class Hotel {
      private Integer id;
      private String hotelName;
      private String address;
      /**
       * 商圈
       */
      private BizRegion bizRegion;
      private HotelStar hotelStar;
      private Double rate;
      private String description;
      private String phoneNum;
      /**
       * 酒店管理员id
       */
      private Integer managerId;
  
      public Integer getId() {
          return id;
      }
  
      public void setId(Integer id) {
          this.id = id;
      }
  
      public String getHotelName() {
          return hotelName;
      }
  
      public void setHotelName(String hotelName) {
          this.hotelName = hotelName;
      }
  
      public String getAddress() {
          return address;
      }
  
      public void setAddress(String address) {
          this.address = address;
      }
  
      public BizRegion getBizRegion() {
          return bizRegion;
      }
  
      public void setBizRegion(BizRegion bizRegion) {
          this.bizRegion = bizRegion;
      }
  
      public HotelStar getHotelStar() {
          return hotelStar;
      }
  
      public void setHotelStar(HotelStar hotelStar) {
          this.hotelStar = hotelStar;
      }
  
      public Double getRate() {
          return rate;
      }
  
      public void setRate(Double rate) {
          this.rate = rate;
      }
  
      public String getDescription() {
          return description;
      }
  
      public void setDescription(String description) {
          this.description = description;
      }
  
      public String getPhoneNum() {
          return phoneNum;
      }
  
      public void setPhoneNum(String phoneNum) {
          this.phoneNum = phoneNum;
      }
  
      public Integer getManagerId() {
          return managerId;
      }
  
      public void setManagerId(Integer managerId) {
          this.managerId = managerId;
      }
  }
  ```

  HotelRoon定义

  ```
  public class HotelRoom {
      private Integer id;
      private RoomType roomType;
      private Integer hotelId;
      private double price;
      /**
       * 当前剩余可预定房间数
       */
      private int curNum;
      /**
       * 某类型房间总数
       */
      private int total;
  
      public Integer getId() {
          return id;
      }
  
      public void setId(Integer id) {
          this.id = id;
      }
  
      public RoomType getRoomType() {
          return roomType;
      }
  
      public void setRoomType(RoomType roomType) {
          this.roomType = roomType;
      }
  
      public Integer getHotelId() {
          return hotelId;
      }
  
      public void setHotelId(Integer hotelId) {
          this.hotelId = hotelId;
      }
  
      public double getPrice() {
          return price;
      }
  
      public void setPrice(double price) {
          this.price = price;
      }
  
      public int getCurNum() {
          return curNum;
      }
  
      public void setCurNum(int curNum) {
          this.curNum = curNum;
      }
  
      public int getTotal() {
          return total;
      }
  
      public void setTotal(int total) {
          this.total = total;
      }
  }
  ```

  Order定义

  ```
  public class Order {
      private Integer id;
      private Integer userId;
      private Integer hotelId;
      private String hotelName;
      private String checkInDate;
      private String checkOutDate;
      private String roomType;
      private Integer roomNum;
      private Integer peopleNum;
      private boolean haveChild;
      private String createDate;
      private Double price;
      private String clientName;
      private String phoneNumber;
      private String orderState;
  
      public Integer getId() {
          return id;
      }
  
      public void setId(Integer id) {
          this.id = id;
      }
  
      public Integer getUserId() {
          return userId;
      }
  
      public void setUserId(Integer userId) {
          this.userId = userId;
      }
  
      public Integer getHotelId() {
          return hotelId;
      }
  
      public void setHotelId(Integer hotelId) {
          this.hotelId = hotelId;
      }
  
      public String getCheckInDate() {
          return checkInDate;
      }
  
      public void setCheckInDate(String checkInDate) {
          this.checkInDate = checkInDate;
      }
  
      public String getCheckOutDate() {
          return checkOutDate;
      }
  
      public void setCheckOutDate(String checkOutDate) {
          this.checkOutDate = checkOutDate;
      }
  
      public String getRoomType() {
          return roomType;
      }
  
      public void setRoomType(String roomType) {
          this.roomType = roomType;
      }
  
      public Integer getRoomNum() {
          return roomNum;
      }
  
      public void setRoomNum(Integer roomNum) {
          this.roomNum = roomNum;
      }
  
      public Integer getPeopleNum() {
          return peopleNum;
      }
  
      public void setPeopleNum(Integer peopleNum) {
          this.peopleNum = peopleNum;
      }
  
      public boolean isHaveChild() {
          return haveChild;
      }
  
      public void setHaveChild(boolean haveChild) {
          this.haveChild = haveChild;
      }
  
      public String getCreateDate() {
          return createDate;
      }
  
      public void setCreateDate(String createDate) {
          this.createDate = createDate;
      }
  
      public Double getPrice() {
          return price;
      }
  
      public void setPrice(Double price) {
          this.price = price;
      }
  
      public String getHotelName() {
          return hotelName;
      }
  
      public void setHotelName(String hotelName) {
          this.hotelName = hotelName;
      }
  
      public String getClientName() {
          return clientName;
      }
  
      public void setClientName(String clientName) {
          this.clientName = clientName;
      }
  
      public String getPhoneNumber() {
          return phoneNumber;
      }
  
      public void setPhoneNumber(String phoneNumber) {
          this.phoneNumber = phoneNumber;
      }
  
      public String getOrderState() {
          return orderState;
      }
  
      public void setOrderState(String orderState) {
          this.orderState = orderState;
      }
  }
  ```

  User定义

  ```
  public class User {
      private Integer id;
      private String email;
      private String password;
      private String userName;
      private String phoneNumber;
      private double credit;
      private UserType userType;
  
      public Integer getId() {
          return id;
      }
  
      public void setId(Integer id) {
          this.id = id;
      }
  
      public String getUserName() {
          return userName;
      }
  
      public void setUserName(String userName) {
          this.userName = userName;
      }
  
      public String getPhoneNumber() {
          return phoneNumber;
      }
  
      public void setPhoneNumber(String phoneNumber) {
          this.phoneNumber = phoneNumber;
      }
  
      public double getCredit() {
          return credit;
      }
  
      public void setCredit(double credit) {
          this.credit = credit;
      }
  
      public String getEmail() {
          return email;
      }
  
      public void setEmail(String email) {
          this.email = email;
      }
  
      public String getPassword() {
          return password;
      }
  
      public void setPassword(String password) {
          this.password = password;
      }
  
      public UserType getUserType() {
          return userType;
      }
  
      public void setUserType(UserType userType) {
          this.userType = userType;
      }
  }
  ```

  ### 6.2数据库表

  数据库中包含User表、Coupon表、Hotel表、Room表、OrderList表。